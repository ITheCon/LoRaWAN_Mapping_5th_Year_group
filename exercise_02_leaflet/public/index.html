<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <link rel="stylesheet" charset="utf-8" href="leaflet/leaflet.css" />
	  <script type="text/javascript" charset="utf-8" src="leaflet/leaflet.js"></script>


    <style>
      #mymap {
        height: 600px;
        width: 800px;
      }
    </style>
    <title>Document</title>

  </head>

  <body>
    <h1>Tracking system</h1>
    <p>
      Latitude: <span id="latitude"></span>&deg;<br />
      Longitude: <span id="longitude"></span>&deg;
    </p>
    <div id="mymap"></div>

    <p>Select local CSV File:</p>
    <input id="csv" type="file">

    <output id="out">
         file contents will appear here
    </output>

    <script>

    var fileInput = document.getElementById("csv"),

    readFile = function () {
        var reader = new FileReader();
        reader.onload = function () {
            document.getElementById('out').innerHTML = reader.result;
        };
        // start reading the file. When it is done, calls the onload event defined above.
        reader.readAsBinaryString(fileInput.files[0]);
    };

    fileInput.addEventListener('change', readFile);
    </script>

    <script>
    var mymap = L.map('mymap').setView([55.9533, -3.1883], 15);

    L.tileLayer('map/{z}/{x}/{y}.png',
    {    maxZoom: 15,
         minZoom: 11
    }).addTo(mymap);


    var lat, lng; // Gives the lat and lng of the mouse
    mymap.addEventListener('mousemove', function(ev) {
       lat = ev.latlng.lat;
       lng = ev.latlng.lng;
       document.getElementById('latitude').textContent = lat;
       document.getElementById('longitude').textContent = lng;
    });


    /* For lines
    var latlngs = [
    [55.9533, -3.1883],
    [55.9533, -3.0883],
    [55.4533, -3.1983]
    ];

    var polyline = L.polyline(latlngs, {color: 'red'}).addTo(mymap);
    */
    var marker = L.marker([55.9533, -3.1883]).addTo(mymap);

    </script>

</html>
